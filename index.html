<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ceník náhradních vozidel - Direct pojišťovna</title>
    <style>
        /* DirectSans Font Faces */
        @font-face {
            font-family: 'DirectSans';
            src: url('Písma/DirectSans-Regular.otf') format('opentype');
            font-weight: 400;
            font-style: normal;
        }

        @font-face {
            font-family: 'DirectSans';
            src: url('Písma/DirectSans-Italic.otf') format('opentype');
            font-weight: 400;
            font-style: italic;
        }

        @font-face {
            font-family: 'DirectSans';
            src: url('Písma/DirectSans-Medium.otf') format('opentype');
            font-weight: 500;
            font-style: normal;
        }

        @font-face {
            font-family: 'DirectSans';
            src: url('Písma/DirectSans-MediumItalic.otf') format('opentype');
            font-weight: 500;
            font-style: italic;
        }

        @font-face {
            font-family: 'DirectSans';
            src: url('Písma/DirectSans-Semibold.otf') format('opentype');
            font-weight: 600;
            font-style: normal;
        }

        @font-face {
            font-family: 'DirectSans';
            src: url('Písma/DirectSans-SemiboldItalic.otf') format('opentype');
            font-weight: 600;
            font-style: italic;
        }

        @font-face {
            font-family: 'DirectSans';
            src: url('Písma/DirectSans-Bold.otf') format('opentype');
            font-weight: 700;
            font-style: normal;
        }

        @font-face {
            font-family: 'DirectSans';
            src: url('Písma/DirectSans-BoldItalic.otf') format('opentype');
            font-weight: 700;
            font-style: italic;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'DirectSans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            font-weight: 400;
        }

        /* Header */
        .header {
            background-color: #ffffff;
            padding: 0 40px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border-radius: 0 0 20px 20px;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 50px;
            height: 80px;
        }

        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
        }

        .logo img {
            height: 65px;
            width: auto;
        }

        .header-nav {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .nav-link {
            font-family: 'DirectSans', sans-serif;
            color: #1a4d3a;
            text-decoration: none;
            font-size: 16px;
            font-weight: 500;
            padding: 10px 20px;
            position: relative;
            transition: all 0.3s ease;
            border-radius: 25px;
        }

        .nav-link::after {
            display: none;
        }

        .nav-link.active {
            color: #004033;
            background-color: #cbdc4d;
            font-weight: 600;
        }

        .nav-link:not(.active):hover {
            color: #004033;
        }

        .nav-link.active:hover {
            background-color: #b8c93f;
            color: #004033;
        }

        /* Main Content */
        .main-content {
            max-width: 1400px;
            margin: 40px auto;
            padding: 40px;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .page-title {
            font-family: 'DirectSans', sans-serif;
            font-size: 36px;
            font-weight: 700;
            color: #1a4d3a;
            margin-bottom: 10px;
        }

        .page-subtitle {
            font-family: 'DirectSans', sans-serif;
            font-size: 18px;
            font-weight: 400;
            color: #666;
            margin-bottom: 40px;
        }

        .controls {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            align-items: center;
        }

        .search-box {
            flex: 1;
            min-width: 300px;
        }

        .search-box input {
            font-family: 'DirectSans', sans-serif;
            width: 100%;
            padding: 14px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 400;
            transition: all 0.3s;
        }

        .search-box input:focus {
            outline: none;
            border-color: #cbdc4d;
            box-shadow: 0 0 0 3px rgba(203, 220, 77, 0.2);
        }

        .results-info {
            font-family: 'DirectSans', sans-serif;
            margin-bottom: 20px;
            color: #666;
            font-size: 14px;
            font-weight: 400;
        }

        /* Table */
        .table-container {
            overflow: hidden;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background-color: #cbdc4d;
            color: #004033;
        }

        th {
            font-family: 'DirectSans', sans-serif;
            padding: 18px 20px;
            text-align: left;
            font-weight: 600;
            font-size: 14px;
            letter-spacing: 0.5px;
        }

        td {
            font-family: 'DirectSans', sans-serif;
            padding: 16px 20px;
            border-bottom: 1px solid #f0f0f0;
            font-weight: 400;
        }

        tbody tr {
            transition: background-color 0.2s;
        }

        tbody tr:hover {
            background-color: #f8f9fa;
        }

        /* Highlight search results */
        .highlight {
            background-color: #cbdc4d;
            color: #004033;
            font-weight: 600;
            padding: 2px 4px;
            border-radius: 3px;
        }

        tbody tr:nth-child(even) {
            background-color: #fafafa;
        }

        tbody tr:nth-child(even):hover {
            background-color: #f0f0f0;
        }

        .kategorie {
            font-family: 'DirectSans', sans-serif;
            font-weight: 600;
            color: #1a4d3a;
        }

        .znacka-typ {
            font-family: 'DirectSans', sans-serif;
            max-width: 600px;
            line-height: 1.6;
            font-weight: 400;
        }

        .cena {
            font-family: 'DirectSans', sans-serif;
            font-weight: 600;
            color: #004033;
            text-align: right;
            white-space: nowrap;
        }

        .no-results {
            font-family: 'DirectSans', sans-serif;
            text-align: center;
            padding: 60px 40px;
            color: #999;
            font-size: 18px;
            font-weight: 400;
        }

        .footer-text {
            font-family: 'DirectSans', sans-serif;
            font-size: 12px;
            font-weight: 400;
            color: #666;
            line-height: 1.6;
            margin-top: 40px;
            padding: 20px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            background-color: #ffffff;
            border-radius: 8px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header {
                padding: 0 20px;
            }

            .header-content {
                height: 70px;
            }

            .logo img {
                height: 52px;
            }

            .header-nav {
                gap: 15px;
            }

            .nav-link {
                font-size: 14px;
            }

            .main-content {
                padding: 20px;
            }

            .page-title {
                font-size: 28px;
            }

            .controls {
                flex-direction: column;
            }

            .search-box {
                width: 100%;
            }

            table {
                font-size: 14px;
            }

            th, td {
                padding: 12px 10px;
            }

            .znacka-typ {
                max-width: 200px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="logo">
                <img src="Loga/Logo+pozitivní+RGB.png" alt="Direct pojišťovna">
            </a>
            <nav class="header-nav">
                <a href="index.html" class="nav-link active">Ceník vozidel</a>
                <a href="vypocet.html" class="nav-link">Výpočet půjčovného</a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <h1 class="page-title">Ceník náhradních vozidel</h1>
        <p class="page-subtitle">Přehled cen za pronájem náhradních vozidel podle kategorií</p>
        
        <div class="controls">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Vyhledat podle kategorie, značky nebo typu vozidla...">
            </div>
        </div>

        <div class="results-info" id="resultsInfo"></div>

        <div class="table-container">
            <table id="dataTable">
                <thead>
                    <tr>
                        <th>Kategorie</th>
                        <th>Značka a typ vozidla</th>
                        <th>Cena 1-10 dní (Kč bez DPH)</th>
                        <th>Cena 11-30 dní (Kč bez DPH)</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                </tbody>
            </table>
            <div class="no-results" id="noResults" style="display: none;">
                Žádné výsledky nenalezeny
            </div>
        </div>

        <div class="footer-text">
            Všechny denní sazby jsou bez odpočtu pevných nákladů (z této částky už tedy nebudeme odečítat náklady za opotřebení poškozeného vozidla).<br>
            Ceny nezahrnují pohonné hmoty a případnou spoluúčast za poškození vozidla.<br>
            Pokud je vaše poškozené auto starší než 8 let, sazba za půjčení náhradního auta se o jednu třídu sníží.<br>
            Cenu půjčovného nad 30 dní je nutné konzultovat s likvidátorem dané škodní události.
        </div>
    </main>

    <script>
        // Data from Excel file
        const cenÝkData = [
          {
            "kategorie": "vozy Škoda",
            "znacka_typ": "Citigo",
            "cena_1_10_dni": 500,
            "cena_11_30_dni": 400
          },
          {
            "kategorie": "vozy Škoda",
            "znacka_typ": "Fabia + Roomster",
            "cena_1_10_dni": 600,
            "cena_11_30_dni": 480
          },
          {
            "kategorie": "vozy Škoda",
            "znacka_typ": "Rapid",
            "cena_1_10_dni": 650,
            "cena_11_30_dni": 520
          },
          {
            "kategorie": "vozy Škoda",
            "znacka_typ": "Scala + Kamiq + Yeti",
            "cena_1_10_dni": 750,
            "cena_11_30_dni": 600
          },
          {
            "kategorie": "vozy Škoda",
            "znacka_typ": "Octavia I + II",
            "cena_1_10_dni": 600,
            "cena_11_30_dni": 480
          },
          {
            "kategorie": "vozy Škoda",
            "znacka_typ": "Octavia III + IV",
            "cena_1_10_dni": 1000,
            "cena_11_30_dni": 800
          },
          {
            "kategorie": "vozy Škoda",
            "znacka_typ": "Karoq + Elroq",
            "cena_1_10_dni": 1100,
            "cena_11_30_dni": 880
          },
          {
            "kategorie": "vozy Škoda",
            "znacka_typ": "Superb",
            "cena_1_10_dni": 1200,
            "cena_11_30_dni": 960
          },
          {
            "kategorie": "vozy Škoda",
            "znacka_typ": "Kodiaq + Enyaq",
            "cena_1_10_dni": 1350,
            "cena_11_30_dni": 1080
          },
          {
            "kategorie": "Mini",
            "znacka_typ": "Citroën C1, Fiat 500 + Panda, Ford KA, Hyundai i10, Chevrolet Spark, Kia Picanto, Opel Adam + Agila, Peugeot 107 + 108, Renault Twingo, Seat Mii, Smart Fortwo, Suzuki Alto + Celerio + Splash, Toyota Aygo, Volkswagen UP!",
            "cena_1_10_dni": 550,
            "cena_11_30_dni": 440
          },
          {
            "kategorie": "Malá ",
            "znacka_typ": "Alfa Romeo MiTo, Citroën C3, DS 3, Fiat Punto, Ford Fiesta + Fusion, Honda Jazz, Hyundai i20 + Getz, Chevrolet Aveo + Kalos, Kia Rio + Soul, Mazda 2, Mitsubishi Colt, Nissan Micra, Opel Corsa, Peugeot 206 + 207 + 208, Renault Clio + Thalia, Seat Cordoba + Ibiza, Subaru Justy, Smart ForFour, Suzuki Swift, Toyota Yaris, Volkswagen Polo, Dacia Sandero + Logan",
            "cena_1_10_dni": 700,
            "cena_11_30_dni": 560
          },
          {
            "kategorie": "Malá premium",
            "znacka_typ": "Audi A1, Mini Cooper",
            "cena_1_10_dni": 900,
            "cena_11_30_dni": 720
          },
          {
            "kategorie": "Nižší střední",
            "znacka_typ": "Alfa Romeo 147 + Giulietta, Fiat Bravo +Tipo, Citroën C4 + C-Elysée, Cupra Leon, DS 4, Ford Focus, Honda Civic, Hyundai Accent + Elantra + i30, Chevrolet Cruze, Kia Ceed, Mazda 3, Mitsubishi Lancer, Nissan Almera, Opel Astra, Peugeot 301 + 307 + 308, Renault Megane + Fluence, Seat Leon + Toledo, Subaru Impreza, Toyota Auris + Corolla + Prius, Volvo C30 + V40, Volkswagen Golf + New Beetle",
            "cena_1_10_dni": 900,
            "cena_11_30_dni": 720
          },
          {
            "kategorie": "Nižší střední premium",
            "znacka_typ": "Audi A3, BMW 1 + 2, Mercedes Benz A, Lexus CT, Mini Clubman",
            "cena_1_10_dni": 1200,
            "cena_11_30_dni": 960
          },
          {
            "kategorie": "Střední",
            "znacka_typ": "Alfa Romeo 159 + Giulia, Citroën C5, Dodge Caliber, Fiat Croma, Ford Mondeo, Hyundai i40 + Sonata, Kia Optima,\nMazda 6, Opel Insignia + Vectra, Peugeot 406 + 407 + 508, Renault Talisman + Laguna, Seat Exeo, Subaru Legacy + Levorg, Toyota Avensis + Camry, Volkswagen Passat + CC, Tesla Model 3",
            "cena_1_10_dni": 1200,
            "cena_11_30_dni": 960
          },
          {
            "kategorie": "Střední premium",
            "znacka_typ": "Audi A4 + A5, BMW 3 + 4, Jaguar XE, Mercedes-Benz C + CLA, Lexus IS, Volvo S60 + V60 + V70, Hyundai IONIQ 5+6",
            "cena_1_10_dni": 1500,
            "cena_11_30_dni": 1200
          },
          {
            "kategorie": "Vyšší střední",
            "znacka_typ": "Citroën C6, DS 9, Honda Legend, Hyundai Genesis, Peugeot 607,",
            "cena_1_10_dni": 1500,
            "cena_11_30_dni": 1200
          },
          {
            "kategorie": "Vyšší střední premium",
            "znacka_typ": "Audi A6 + A7, BMW 5 + 6, Jaguar XF, Maserati Ghibli, Mercedes-Benz E + CLS, Volvo S90 + V90, Volkswagen Arteon,",
            "cena_1_10_dni": 2100,
            "cena_11_30_dni": 1680
          },
          {
            "kategorie": "Luxusní",
            "znacka_typ": "Audi A8, BMW 7 + 8, Jaguar XJ + XK, Lexus LS, Mercedes Benz S, Porsche Panamera, Volkswagen Phaeton, Tesla Model S",
            "cena_1_10_dni": 2800,
            "cena_11_30_dni": 2240
          },
          {
            "kategorie": "MPV malá",
            "znacka_typ": "Citroën C3 Picasso, Fiat 500L + Qubo, Ford B-MAX + C-MAX, Hyundai ix20, Kia Venga, Opel Meriva, Renault Kangoo, Toyota Urban Cruiser + Verso, Dacia Jogger + Logan MCV,",
            "cena_1_10_dni": 800,
            "cena_11_30_dni": 640
          },
          {
            "kategorie": "MPV střední",
            "znacka_typ": "Citroën C4 SpaceTourer + Grand Picasso + C4 Picasso + Xsara Picasso + Berlingo, Ford Grand C-max, Chevrolet Orlando, Mazda 5, Opel Zafira, Peugeot Rifter, Renault Scénic + Grand Scénic, Seat Altea, Toytoa Verso, Volkswagen Golf Sports VAN + Touran + Caddy, BMW 2 Tourer, Mercedes-Benz B + Citan, Fiat Doblo",
            "cena_1_10_dni": 1000,
            "cena_11_30_dni": 800
          },
          {
            "kategorie": "MPV velká",
            "znacka_typ": "Citroën Jumpy + C8, Ford S-MAX + Galaxy, Mercedes-Benz Viano, Peugeot 807, Renault Espace, Seat Alhambra, Volkswagen Sharan, Chrysler Voyager, Peugeot Expert",
            "cena_1_10_dni": 1400,
            "cena_11_30_dni": 1120
          },
          {
            "kategorie": "SUV malé ",
            "znacka_typ": "Baic X3, Dacia Duster + Bigster, SsangYong Tivoli, MG ZS, Citroën C3 Aircross + C4 Aircross + Cactus, DS3 Crossback, Fiat 500X, Ford Ecosport, Honda HRV, Hyundai Bayon + Kona, Jeep Renegade, Kia XCeed + Soul + Stonic + Niro, Mazda CX-3, Mitsubishi ASX, Nissan Juke, Opel Crossland X + Mokka, Peugeot 2008, Renault Captur + Arkana, Seat Arona + Ateca (Cupra), Suzuki Jimny + SX4 + S-Cross + Vitara,  Toyota C-HR + Yaris Cross, Volkswagen Taigo + T-Cross + T-Roc",
            "cena_1_10_dni": 850,
            "cena_11_30_dni": 680
          },
          {
            "kategorie": "SUV malé premium ",
            "znacka_typ": "Mercedes-Benz GLA, Volvo XC40, Baic X5",
            "cena_1_10_dni": 1200,
            "cena_11_30_dni": 960
          },
          {
            "kategorie": "SUV střední ",
            "znacka_typ": "Alfa Romeo Stelvio + Tonale, Baic X7, SsangYong Korando, MG HS + EHS (hybrid), Citroën C-Crosser, Cupra Formentor, DS 7, Fiat Freemont, Ford Edge + Kuga, Honda CR-V, Hyundai ix35 + Tucson, Chevrolet Captiva, Jeep Compass + Cherokee, Kia Sportage + EV3, Mazda CX-5 + CX30, Mitsubishi Eclipse + Outlander, Nissan Quasqai + X-trail, Opel Grandland X, Peugeot 3008 + 5008, Renault Austral + Koleos + Kadjar + Rafale, Seat Tarraco, Subaru Forester + XV, Suzuki Grand Vitara, Toyota RAV4, Volkswagen Tiguan, Jaecoo 7",
            "cena_1_10_dni": 1350,
            "cena_11_30_dni": 1080
          },
          {
            "kategorie": "SUV střední premium",
            "znacka_typ": "Audi Q2 + Q3, BMW X1 + X2, Land Rover Evoque + Defender, Mercedes-Benz ML + GLB, Porsche Macan, Volvo XC60 + XC70, Tesla Model Y, Leapmotor C10",
            "cena_1_10_dni": 1500,
            "cena_11_30_dni": 1200
          },
          {
            "kategorie": "SUV velké ",
            "znacka_typ": "Ford Explorer, Hyundai Santa-Fe, Jeep Wrangler, KIA Sorento, Nissan Pathfinder + Patrol, Mitsubishi Pajero, Nissan X-Trail, Toyota Highlander, SsangYong Rexton, Kia EV6",
            "cena_1_10_dni": 1800,
            "cena_11_30_dni": 1440
          },
          {
            "kategorie": "SUV velké premium",
            "znacka_typ": "Audi Q5, BMW X3 + X4, Jeep Grand Cherokee, Land Rover Discovery + Range Rover Velar, Mercedes-Benz GLC, Volvo XC90, Volkswagen Touareg, Lexus RX, Kia EV9",
            "cena_1_10_dni": 2300,
            "cena_11_30_dni": 1840
          },
          {
            "kategorie": "Luxusní SUV",
            "znacka_typ": "Audi Q7 + Q8, BMW X5 + X6 + X7, Infiniti FX, Land Rover Range Rover, Mercedes-Benz G + GL + GLE + GLS, Porsche Cayenne, Toyota Land Cruiser, Tesla Model X, Hyundai IONIQ 9",
            "cena_1_10_dni": 2750,
            "cena_11_30_dni": 2200
          },
          {
            "kategorie": "Užitková malá",
            "znacka_typ": "Citroën Berlingo + Nemo, Dacia Dokker + Lodgy, Fiat Doblo + Fiorino, Ford Transit Connect, Opel Combo, Peugeot Bipper + Partner + Rifter, Renault Kangoo, Volkswagen Caddy",
            "cena_1_10_dni": 800,
            "cena_11_30_dni": 640
          },
          {
            "kategorie": "Užitková střední",
            "znacka_typ": "Citroën Jumpy, Fiat Talento, Ford Transit Custom, Hyundai H-1 Van, Mercedes-Benz Vito, Nissan NV200, Opel Vivaro, Peugeot Expert, Renault Trafic, Volkswagen Transporter, Kia PV5 Cargo,",
            "cena_1_10_dni": 1000,
            "cena_11_30_dni": 800
          },
          {
            "kategorie": "Užitková velká",
            "znacka_typ": "Citroën Jumper, Fiat Ducato, Ford Transit, Hyundai H350, Iveco Daily, Mercedes-Benz Sprinter, Opel Movano, Peugeot Boxer, Renault Master, Volkswagen Crafter",
            "cena_1_10_dni": 1200,
            "cena_11_30_dni": 960
          },
          {
            "kategorie": "Pick - up",
            "znacka_typ": "Ford Ranger, Isuzu D-Max, Mazda BT, Mitsubishi L200, Mercedes-Benz X, Nissan Navara + NP300, Toyota Hilux, Volkswagen Amarok, Tesla Cybertruck",
            "cena_1_10_dni": 1500,
            "cena_11_30_dni": 1200
          },
          {
            "kategorie": "Mikrobus",
            "znacka_typ": "Citroën Spacetourer + Jumper Bus, Fiat Ducato Minibus, Mercedes-Benz Vito + V, Peugeot Traveller, Volkswagen California + Caravelle + Crafter + Multivan, Hyundai Staria, Toyota Proace Verso, Kia PV5 Passenger",
            "cena_1_10_dni": 1500,
            "cena_11_30_dni": 1200
          }
        ];

        let filteredData = [...cenÝkData];
        let currentSort = { field: 'kategorie', direction: 'asc' };
        let currentSearchTerm = ''; // Store current search term for highlighting

        // Pořadí kategorií podle vzoru
        const kategorieOrder = [
            'vozy Škoda',
            'Mini',
            'Malá',
            'Malá ',
            'Malá premium',
            'Nižší střední',
            'Nižší střední premium',
            'Střední',
            'Střední premium',
            'Vyšší střední',
            'Vyšší střední premium',
            'Luxusní',
            'MPV malá',
            'MPV střední',
            'MPV velká',
            'SUV malé',
            'SUV malé ',
            'SUV malé premium',
            'SUV malé premium ',
            'SUV střední',
            'SUV střední ',
            'SUV střední premium',
            'SUV velké',
            'SUV velké ',
            'SUV velké premium',
            'Luxusní SUV',
            'Užitková malá',
            'Užitková střední',
            'Užitková velká',
            'Pick - up',
            'Mikrobus'
        ];

        // Search functionality
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase().trim();
            currentSearchTerm = this.value.trim(); // Store original case for highlighting
            filterData(searchTerm);
        });

        function filterData(searchTerm) {
            if (!searchTerm) {
                filteredData = [...cenÝkData];
                currentSearchTerm = '';
            } else {
                filteredData = cenÝkData.filter(item => {
                    const kategorie = item.kategorie.toLowerCase();
                    const znacka = item.znacka_typ.toLowerCase();
                    return kategorie.includes(searchTerm) || znacka.includes(searchTerm);
                });
            }
            
            // Apply current sort
            sortData(currentSort.field, currentSort.direction);
        }

        // Function to highlight search term in text
        function highlightText(text, searchTerm) {
            if (!searchTerm || !text) {
                return escapeHtml(text);
            }
            
            const escapedText = escapeHtml(text);
            const escapedSearchTerm = escapeHtml(searchTerm);
            
            // Create case-insensitive regex to find all occurrences
            const regex = new RegExp(`(${escapedSearchTerm.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')})`, 'gi');
            
            return escapedText.replace(regex, '<mark class="highlight">$1</mark>');
        }

        // Function to escape HTML to prevent XSS
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function sortData(field, direction) {
            currentSort = { field, direction };
            
            filteredData.sort((a, b) => {
                let aVal, bVal;
                
                switch(field) {
                    case 'kategorie':
                        // Použij předdefinované pořadí kategorií
                        // Najdi index - zkus nejdřív přesný název, pak bez mezer na konci
                        let aIndex = kategorieOrder.indexOf(a.kategorie);
                        if (aIndex === -1) {
                            aIndex = kategorieOrder.indexOf(a.kategorie.trim());
                        }
                        
                        let bIndex = kategorieOrder.indexOf(b.kategorie);
                        if (bIndex === -1) {
                            bIndex = kategorieOrder.indexOf(b.kategorie.trim());
                        }
                        
                        // Pokud kategorie není v seznamu, dej ji na konec
                        if (aIndex === -1 && bIndex === -1) {
                            aVal = a.kategorie.trim();
                            bVal = b.kategorie.trim();
                        } else if (aIndex === -1) {
                            return 1; // a jde na konec
                        } else if (bIndex === -1) {
                            return -1; // b jde na konec
                        } else {
                            // Porovnej podle indexu v pořadí
                            if (direction === 'asc') {
                                return aIndex - bIndex;
                            } else {
                                return bIndex - aIndex;
                            }
                        }
                        break;
                    case 'znacka':
                        aVal = a.znacka_typ;
                        bVal = b.znacka_typ;
                        break;
                    case 'cena1':
                        aVal = a.cena_1_10_dni;
                        bVal = b.cena_1_10_dni;
                        break;
                    case 'cena2':
                        aVal = a.cena_11_30_dni;
                        bVal = b.cena_11_30_dni;
                        break;
                    default:
                        return 0;
                }
                
                if (typeof aVal === 'string') {
                    aVal = aVal.toLowerCase();
                    bVal = bVal.toLowerCase();
                }
                
                if (direction === 'asc') {
                    return aVal > bVal ? 1 : aVal < bVal ? -1 : 0;
                } else {
                    return aVal < bVal ? 1 : aVal > bVal ? -1 : 0;
                }
            });
            
            updateTable();
        }

        function updateTable() {
            const tbody = document.getElementById('tableBody');
            const noResults = document.getElementById('noResults');
            const resultsInfo = document.getElementById('resultsInfo');
            
            if (filteredData.length === 0) {
                tbody.innerHTML = '';
                noResults.style.display = 'block';
                resultsInfo.textContent = '';
            } else {
                noResults.style.display = 'none';
                resultsInfo.textContent = `Nalezeno ${filteredData.length} ${filteredData.length === 1 ? 'záznam' : filteredData.length < 5 ? 'záznamy' : 'záznamů'}`;
                
                tbody.innerHTML = filteredData.map(item => `
                    <tr>
                        <td class="kategorie">${highlightText(item.kategorie, currentSearchTerm)}</td>
                        <td class="znacka-typ">${highlightText(item.znacka_typ, currentSearchTerm)}</td>
                        <td class="cena">${item.cena_1_10_dni.toLocaleString('cs-CZ')} Kč</td>
                        <td class="cena">${item.cena_11_30_dni.toLocaleString('cs-CZ')} Kč</td>
                    </tr>
                `).join('');
            }
        }

        // Initial load
        sortData('kategorie', 'asc');
    </script>
</body>
</html>

